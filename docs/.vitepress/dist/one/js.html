<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | 前端百题斩</title>
    <meta name="description" content="精选前端面试题">
    <link rel="stylesheet" href="/assets/style.b46ed864.css">
    <link rel="modulepreload" href="/assets/app.8f85f826.js">
    <link rel="modulepreload" href="/assets/one_js.md.d28000e9.lean.js">
    
    <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-17e95b6a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-62c5f7de></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-62c5f7de> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-17e95b6a data-v-4a8d1de6><div class="VPNavBar" data-v-4a8d1de6 data-v-3e963690><div class="container" data-v-3e963690><div class="VPNavBarTitle" data-v-3e963690 data-v-6dc121e4><a class="title" href="/" data-v-6dc121e4><!----><!--[-->前端百题斩<!--]--></a></div><div class="content" data-v-3e963690><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-3e963690 data-v-6e7f8068><span id="main-nav-aria-label" class="visually-hidden" data-v-6e7f8068>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-6e7f8068 data-v-09ad54ca><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-09ad54ca><span class="text" data-v-09ad54ca><!----> 基础 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-09ad54ca><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-09ad54ca><div class="VPMenu" data-v-09ad54ca data-v-60d29ca0><div class="items" data-v-60d29ca0><!--[--><!--[--><div class="VPMenuLink" data-v-60d29ca0 data-v-e49249f8><a class="VPLink link active" href="/one/js.html" data-v-e49249f8 data-v-52f97278><!--[-->JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-60d29ca0 data-v-e49249f8><a class="VPLink link" href="/one/css.html" data-v-e49249f8 data-v-52f97278><!--[-->CSS<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-60d29ca0 data-v-e49249f8><a class="VPLink link" href="/one/browser.html" data-v-e49249f8 data-v-52f97278><!--[-->浏览器<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-6e7f8068 data-v-09ad54ca><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-09ad54ca><span class="text" data-v-09ad54ca><!----> 综合 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-09ad54ca><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-09ad54ca><div class="VPMenu" data-v-09ad54ca data-v-60d29ca0><div class="items" data-v-60d29ca0><!--[--><!--[--><div class="VPMenuLink" data-v-60d29ca0 data-v-e49249f8><a class="VPLink link" href="/two/vue.html" data-v-e49249f8 data-v-52f97278><!--[-->vue<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-60d29ca0 data-v-e49249f8><a class="VPLink link" href="/two/webpack.html" data-v-e49249f8 data-v-52f97278><!--[-->webpack<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-60d29ca0 data-v-e49249f8><a class="VPLink link" href="/two/other.html" data-v-e49249f8 data-v-52f97278><!--[-->其他<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-3e963690 data-v-6f8baba6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-6f8baba6 data-v-cc28dc48 data-v-acaa328a><span class="check" data-v-acaa328a><span class="icon" data-v-acaa328a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-cc28dc48><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-cc28dc48><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-3e963690 data-v-6311b37e data-v-09ad54ca><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-09ad54ca><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-09ad54ca><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-09ad54ca><div class="VPMenu" data-v-09ad54ca data-v-60d29ca0><!----><!--[--><!--[--><!----><div class="group" data-v-6311b37e><div class="item appearance" data-v-6311b37e><p class="label" data-v-6311b37e>Appearance</p><div class="appearance-action" data-v-6311b37e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-6311b37e data-v-cc28dc48 data-v-acaa328a><span class="check" data-v-acaa328a><span class="icon" data-v-acaa328a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-cc28dc48><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-cc28dc48><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-3e963690 data-v-19f82b18><span class="container" data-v-19f82b18><span class="top" data-v-19f82b18></span><span class="middle" data-v-19f82b18></span><span class="bottom" data-v-19f82b18></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-17e95b6a data-v-51c4237e><div class="VPDoc" data-v-51c4237e data-v-33f3cc82><div class="container" data-v-33f3cc82><div class="aside" data-v-33f3cc82><div class="aside-curtain" data-v-33f3cc82></div><div class="aside-container" data-v-33f3cc82><div class="aside-content" data-v-33f3cc82><div class="VPDocAside" data-v-33f3cc82 data-v-a015c1a8><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-a015c1a8 data-v-034b01a6><div class="content" data-v-034b01a6><div class="outline-marker" data-v-034b01a6></div><div class="outline-title" data-v-034b01a6>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-034b01a6><span class="visually-hidden" id="doc-outline-aria-label" data-v-034b01a6> Table of Contents for current page </span><ul class="root" data-v-034b01a6><!--[--><li style="" data-v-034b01a6><a class="outline-link" href="#_01-类型判断" data-v-034b01a6>01.类型判断</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_02-判断数组" data-v-034b01a6>02.判断数组</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_03-浮点数精度" data-v-034b01a6>03.浮点数精度</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_04-类型转换" data-v-034b01a6>04.类型转换</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_05-object-is" data-v-034b01a6>05.Object.is</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_06-核心概念" data-v-034b01a6>06.核心概念</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_07-继承的方式" data-v-034b01a6>07.继承的方式</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#es6" data-v-034b01a6>ES6</a><ul data-v-034b01a6><!--[--><li style="" data-v-034b01a6><a class="outline-link nested" href="#_01-var-let-const" data-v-034b01a6>01.var/let/const</a></li><li style="" data-v-034b01a6><a class="outline-link nested" href="#_02-箭头函数" data-v-034b01a6>02.箭头函数</a></li><li style="" data-v-034b01a6><a class="outline-link nested" href="#_03-展开语法-剩余参数" data-v-034b01a6>03.展开语法/剩余参数</a></li><li style="" data-v-034b01a6><a class="outline-link nested" href="#_04-解构赋值" data-v-034b01a6>04.解构赋值</a></li><li style="" data-v-034b01a6><a class="outline-link nested" href="#weakset-weakmap" data-v-034b01a6>WeakSet/WeakMap</a></li><li style="" data-v-034b01a6><a class="outline-link nested" href="#模块化对比" data-v-034b01a6>模块化对比</a></li><!--]--></ul></li><li style="" data-v-034b01a6><a class="outline-link" href="#_01-类数组" data-v-034b01a6>01.类数组</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_02-严格模式" data-v-034b01a6>02.严格模式</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_03-iife" data-v-034b01a6>03.IIFE</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_04-语句和表达式" data-v-034b01a6>04.语句和表达式</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_05-函数式编程" data-v-034b01a6>05.函数式编程</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_06-哪些操作会造成内存泄漏" data-v-034b01a6>06.哪些操作会造成内存泄漏</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#实现sizeof函数-计算传入的对象所占的bytes" data-v-034b01a6>实现sizeOf函数, 计算传入的对象所占的Bytes</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#for循环问题" data-v-034b01a6>for循环问题</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#垃圾回收机制" data-v-034b01a6>垃圾回收机制</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#_1-2-3-map-parseint" data-v-034b01a6>[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;].map(parseInt)</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#防抖节流" data-v-034b01a6>防抖节流</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#遍历对比" data-v-034b01a6>遍历对比</a><!----></li><li style="" data-v-034b01a6><a class="outline-link" href="#sort原理" data-v-034b01a6>sort原理</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-a015c1a8></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-33f3cc82><div class="content-container" data-v-33f3cc82><!--[--><!--]--><main class="main" data-v-33f3cc82><div style="position:relative;" class="vp-doc _one_js" data-v-33f3cc82><div><h1 id="javascript" tabindex="-1">JavaScript <a class="header-anchor" href="#javascript" aria-hidden="true">#</a></h1><h2 id="_01-类型判断" tabindex="-1">01.类型判断 <a class="header-anchor" href="#_01-类型判断" aria-hidden="true">#</a></h2><ul><li>原始数据类类型：Undefined、Null、Boolean、Number、String、Symbol、BigInt</li><li>引用数据类型：Object</li></ul><ol><li><strong>typeof</strong></li></ol><ul><li>undefined / string / number / boolean/ symbol(ES6) / bigint(ES2020)</li><li>function(函数对象) 和 object(其他对象或 null)</li></ul><blockquote><p>在 JavaScript 最初的实现中，JavaScript 中的值是由一个表示类型的标签和实际数据值表示的。对象的类型标签是 0，由于 null 代表的是空指针（大多数平台下值为 0x00），因此，null 的类型标签是 0，typeof null 也因此返回 &quot;object&quot;。</p></blockquote><ol start="2"><li><strong>instanceof</strong></li></ol><ul><li>对基本数据类型不起作用，可以判断引用数据类型，判断对象是否为构造函数的实例，原理是判断对象的原型链中是否存在构造函数的原型对象。</li></ul><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myInstanceOf</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Type</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPrototypeOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Type</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPrototypeOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li><strong>constructor</strong></li></ol><ul><li><p>原理是通过访问对象实例的 constructor 属性访问对应的构造函数</p></li><li><p>undefined 和 null 没有 contructor 属性</p></li><li><p>容易伪造，不适合做类型判断</p></li><li><p><strong>跨窗口</strong>，同窗口下的内置对象是不同的实例 instanceof 和 constructor 都会出现问题</p></li></ul><ol start="4"><li><strong>Object.prototype.toString.call()</strong></li></ol><ul><li>不能检测非原生构造函数的构造函数名</li><li><code>Object.prototype.toString.call(value).slice(8, -1)</code></li></ul><p>如果要判断的是基本数据类型或 JavaScript内置对象，使用 toString；如果要判断的是自定义类型，可以使用<code>instanceof</code>。</p><h2 id="_02-判断数组" tabindex="-1">02.判断数组 <a class="header-anchor" href="#_02-判断数组" aria-hidden="true">#</a></h2><ul><li><code>Array.isArray(arr)</code></li><li><code>Object.prototype.toString.call(arr).slice(8,-1) === &#39;Array&#39;</code></li><li><code>arr instanceof Array</code></li><li><code>Array.prototype.isPrototypeOf(arr)</code> /<code> obj.__proto__ === Array.prototype</code></li></ul><h2 id="_03-浮点数精度" tabindex="-1">03.浮点数精度 <a class="header-anchor" href="#_03-浮点数精度" aria-hidden="true">#</a></h2><ul><li>在 JavaScript 中, Number 是一种 定义为 64 位双精度浮点型 (IEEE 754)的数字数据类型</li><li>64位 = 1位符号位 + 11位指数位 + 52位小数位</li><li>十进制的小数转为二进制时采用的方法时<strong>乘二取整法</strong>，可能会出现无限循环的二进制数。</li></ul><p><strong>解决精度丢失</strong></p><ul><li>展示数据时，toPrecision 返回一个指定精度的数字。 toFixed 返回指定小数位数 (四舍五入是不确定)</li><li>计算时可以先转为整数，先扩大再缩小</li></ul><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 精确加法</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">num1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> num2</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">num1Digits</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">num1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">num2Digits</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">num2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">baseNum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pow</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">max</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">num1Digits</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">num2Digits</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">num1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">baseNum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">num2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">baseNum</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">baseNum</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>或者使用类库计算如 number-precision.js、Math.js、BigDecimal.js</li></ul><h2 id="_04-类型转换" tabindex="-1">04.类型转换 <a class="header-anchor" href="#_04-类型转换" aria-hidden="true">#</a></h2><p><code>==</code></p><ul><li>null == undefined</li><li>更倾向number，一方存在 number ，则都转为 number</li></ul><p><code>+</code></p><ul><li>更倾向转为string</li></ul><p>转为string时，&quot;undefined&quot;,&quot;null&quot;,&quot;true&quot;/ &quot;false&quot; 转为 number 时, null 为 0, undefined 为NaN, boolean为1/0，symbol 报错</p><p>对象会按优先级调用 [Symbol.toPrimitive] / valueof / toString 方法</p><h2 id="_05-object-is" tabindex="-1"><a href="http://05.Object.is" target="_blank" rel="noopener noreferrer">05.Object.is</a> <a class="header-anchor" href="#_05-object-is" aria-hidden="true">#</a></h2><ul><li>使用双等号（==）进行相等判断时，如果两边的类型不一致，则会进行强制类型转化后再进行比较。</li><li>使用三等号（===）进行相等判断时，如果两边的类型不一致时，不会做强制类型准换，直接返回 false。</li><li>使用 <a href="http://Object.is" target="_blank" rel="noopener noreferrer">Object.is</a> 来进行相等判断时，一般情况下和三等号的判断相同，它处理了一些特殊的情况，比如 -0 和 +0 不再相等，两个 NaN 是相等的。</li></ul><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> y</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// Steps 1-5, 7-10</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// +0不等于-0</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 相当于</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// if(x === 0){</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//   return  1 / x === 1 / y</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//  }</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 针对 NaN 等于 NaN</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h2 id="_06-核心概念" tabindex="-1">06.核心概念 <a class="header-anchor" href="#_06-核心概念" aria-hidden="true">#</a></h2><h4 id="_01-变量提升和暂时性死区" tabindex="-1">01.变量提升和暂时性死区 <a class="header-anchor" href="#_01-变量提升和暂时性死区" aria-hidden="true">#</a></h4><ul><li><p><strong>变量提升</strong>，是指在代码执行过程中，引擎把变量的声明部分和函数的声明部分提升到代码开头的 “ 行为 ”。变量被提升后，变量的值是<code>undefined</code>。</p></li><li><p>但实际上变量和函数声明在代码里的位置是不会改变的，而且是在**编译阶段 **被 JS 引擎放入内存中的，存在执行上下文的变量环境中。</p></li><li><p><strong>暂时性死区</strong>：在用 let/const 命令<strong>声明变量之前</strong>，该变量都是不可用的。这在语法上称为 “暂时性死区”（ temporal dead zone，简称 TDZ）</p></li></ul><h4 id="_02-作用域" tabindex="-1">02.作用域 <a class="header-anchor" href="#_02-作用域" aria-hidden="true">#</a></h4><p>作用域控制着变量和函数的可见性和生命周期，是<strong>声明时就决定</strong>的，是词法作用域。分为：</p><ul><li><strong>全局作用域</strong>中的对象在代码中的任何地方都能访问，其生命周期伴随着页面的生命周期。</li><li><strong>函数作用域</strong>就是在函数内部定义的变量或者函数，定义的变量或者函数只能在函数内部被访问。函数执行结束之后，函数内部定义的变量会被销毁。</li><li><strong>块级作用域</strong>就是使用一对大括号包裹的一段代码，块级作用域就是通过词法环境的栈结构来实现的。使用let/const 使用，{ }内部变量不会覆盖外部的</li></ul><h4 id="_03-闭包" tabindex="-1">03.闭包 <a class="header-anchor" href="#_03-闭包" aria-hidden="true">#</a></h4><ul><li><p>闭包的形成源于两点<strong>词法作用域</strong>和<strong>函数</strong>可以作为值传递</p></li><li><p>当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数在当前词法作用域之外执行。</p></li><li><p>闭包和作用域链相关，函数内部是可以读取外部作用域的变量的，但是从函数外部不可以之间读取内部的局部变量的；函数内部定义一个函数使用了局部变量，并返回，这个被引用的变量会始终保存在内存中。（<strong>私有化数据</strong>）</p></li><li><p>从 JS 引擎角度，JS 遇到内部函数，对其进行快速的词法扫描，<strong>发现内部函数引用了外部函数的变量</strong>，会在堆空间创建 closure(外部函数) 对象。</p></li></ul><h4 id="_04-执行上下文" tabindex="-1">04.执行上下文 <a class="header-anchor" href="#_04-执行上下文" aria-hidden="true">#</a></h4><p>执行上下文就是当前 JavaScript 代码被解析和执行时所在环境的抽象概念。 分为：</p><ul><li>全局执行上下文</li><li>函数执行上下文</li><li>Eval 函数执行上下文</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2021/png/338495/1626710954144-44541328-f268-4ba6-8494-38f2710fefa2.png?x-oss-process=image%2Fresize%2Cw_610%2Climit_0#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=url&amp;height=256&amp;id=GowyI&amp;margin=%5Bobject%20Object%5D&amp;originHeight=329&amp;originWidth=610&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=474" alt=""></p><ul><li><p>变量环境是用来登记 var function变量声明，词法环境是用来登记let const class 等变量声明。<strong>块级作用域就是通过词法环境的栈结构来实现的</strong>，而变量提升是通过变量环境来实现。</p></li><li><p>执行上下文是代码执行之前创建的。this 的指向是执行时确定的。</p></li></ul><h4 id="_05-作用域链" tabindex="-1">05.作用域链 <a class="header-anchor" href="#_05-作用域链" aria-hidden="true">#</a></h4><ul><li><p>作用域链就是将一个个作用域串起来，实现变量查找的路径。</p></li><li><p>在 JavaScript 执行过程中，其作用域链是由词法作用域决定的。词法作用域<strong>就是指查找作用域的顺序是按照函数定义时的位置来决定的 ，所以词法作用域是</strong>静态的作用域。</p></li><li><p>每个执行上下文的<strong>变量环境中，都包含了一个外部引用</strong>，用来指向外部的执行上下文，我们把这个外部引用称为 <strong>outer</strong></p></li></ul><h4 id="_06-this" tabindex="-1">06. this <a class="header-anchor" href="#_06-this" aria-hidden="true">#</a></h4><p>this 是和执行上下文绑定的，每个执行上下文都有一个this</p><ol><li>当函数作为对象的方法调用时，函数中的 this 就是该对象；</li><li>当函数被直接调用时，在严格模式下，this 值是 undefined，非严格模式下 this 指向的是全局对象；</li><li>当构造函数调用时，this指向新创建的对象</li><li>箭头函数继承外层函数的 this 值</li><li>使用call/apply/bind指定this</li></ol><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myCall</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this!==</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">funciton</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">is not function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ctx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Symbol</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 保证唯一</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">ctx</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ctx</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">](</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ctx</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//apply略，只是接受参数不一样</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myBind</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this!==</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">funciton</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">       </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">is not function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;">  </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;">rest</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// new 调用时 this 指向实例</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ctx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">instance</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">[</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">rest</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="_05-原型链" tabindex="-1">05.原型链 <a class="header-anchor" href="#_05-原型链" aria-hidden="true">#</a></h4><blockquote><p>JS的继承是通过原型链实现的，每个实例对象都有<code>__proto__</code>指向它的构造函数的 prototype，原型对象也是对象也有<code>__proto__</code>，层层向上指向<code>Object.prototype</code>（null）</p></blockquote><ul><li><strong>prototype（原型对象）<strong>是构造函数的属性，<code>__proto__</code>是任何对象的属性，指向该对象的构造函数的</strong>prototype。</strong></li><li>prototype 有 constructor 属性，指向构造函数</li><li><strong>构造函数</strong>也是对象，构造函数的<code>__proto__</code>的属性指向构造函数 **Function() **的 <strong>prototype</strong></li><li><strong>prototype</strong>对象，其<code>__proto__</code>属性指向构造函数 Obejct() 的 prototype吧(最终指向null)，</li></ul><h2 id="_07-继承的方式" tabindex="-1">07.继承的方式 <a class="header-anchor" href="#_07-继承的方式" aria-hidden="true">#</a></h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/338495/1625043301872-32a96c0d-9108-4e2c-9563-5cc933b9355a.png" alt="image.png"></p><ol><li>原型链继承：<code> Child.prototype = new Parent()</code>; 所有实例对象共享一个原型对象，子类创建实例时没法传参</li><li>构造函数继承：<code>function Child () { Parent.call(this); }</code>，不能继承父类原型属性或者方法</li><li>组合继承： 构造函数多调用了一次</li></ol><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Child</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> age</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Parent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//  第二次调用 Parent()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">age</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Parent</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// // 第一次调用 Parent()</span></span>
<span class="line"><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">constructor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Child</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//// 手动挂上构造器，指向自己的构造函数</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>原型式继承： 基于已有的对象来创建新的对象，使用<code>Object.create</code>方法，将传入对象作为返回对象的原型对象。<code>let person4 = Object.create(parent4);</code>，缺点与原型链继承相同</li><li>寄生式继承：对原型式继承获得的对象，再进行扩展。缺点是没有办法实现函数的复用</li><li><strong>寄生组合式继承</strong>：</li></ol><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Child</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> age</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Parent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 调用 Parent()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">age</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">funtion </span><span style="color:#82AAFF;">inherit</span><span style="color:#A6ACCD;">(Child</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Parent)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 这里改用 Object.create 就可以减少组合继承中多进行一次构造的过程</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">Parent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">constructor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Child</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//// 手动挂上构造器，指向自己的构造函数</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 子类继承父类的静态属性方法</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPrototypeOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">subClass</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">superClass</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// __proto__</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="es6" tabindex="-1">ES6 <a class="header-anchor" href="#es6" aria-hidden="true">#</a></h2><h3 id="_01-var-let-const" tabindex="-1">01.var/let/const <a class="header-anchor" href="#_01-var-let-const" aria-hidden="true">#</a></h3><table><thead><tr><th><strong>区别</strong></th><th><strong>var</strong></th><th><strong>let</strong></th><th><strong>const</strong></th></tr></thead><tbody><tr><td>是否有块级作用域</td><td>×</td><td>√</td><td>√</td></tr><tr><td>是否存在变量提升</td><td>√</td><td>×</td><td>×</td></tr><tr><td>是否添加全局属性</td><td>√</td><td>×</td><td>×</td></tr><tr><td>能否重复声明变量</td><td>√</td><td>×</td><td>×</td></tr><tr><td>是否存在暂时性死区</td><td>×</td><td>√</td><td>√</td></tr><tr><td>是否必须设置初始值</td><td>×</td><td>×</td><td>√</td></tr><tr><td>能否改变指针指向</td><td>√</td><td>√</td><td>×</td></tr></tbody></table><h3 id="_02-箭头函数" tabindex="-1">02.箭头函数 <a class="header-anchor" href="#_02-箭头函数" aria-hidden="true">#</a></h3><ul><li>箭头函数不会创建自己的 this，从上一层作用域继承 this</li><li>call()、apply()、bind() 等方法不能改变箭头函数中 this 的指向，静态作用域</li><li>没有 arguments</li><li>没有 prototype 不能 new</li><li>不能使用 yield命令，箭头函数不能用作 Generator 函数。</li></ul><h3 id="_03-展开语法-剩余参数" tabindex="-1">03.展开语法/剩余参数 <a class="header-anchor" href="#_03-展开语法-剩余参数" aria-hidden="true">#</a></h3><p>剩余语法(Rest syntax) 看起来和展开语法(Spread syntax)完全相同，不同点在于, 展开语法用于解构数组和对象。从某种意义上说，剩余语法与展开语法是相反的：<strong>展开</strong>语法将数组展开为其中的各个元素，而剩余语法则是将多个元素<strong>收集</strong>起来。</p><ul><li>在数组或函数参数中使用展开语法时, 该语法只能用于可迭代对象</li></ul><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// spread</span></span>
<span class="line"></span></code></pre></div><blockquote><p>ES2018 将这个运算符<a href="https://github.com/sebmarkbage/ecmascript-rest-spread" target="_blank" rel="noopener noreferrer">引入</a>了对象</p></blockquote><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> n </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">z </span><span style="color:#89DDFF;">};</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// spread</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">z </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">};</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//rest</span></span>
<span class="line"></span></code></pre></div><h3 id="_04-解构赋值" tabindex="-1">04.解构赋值 <a class="header-anchor" href="#_04-解构赋值" aria-hidden="true">#</a></h3><p>通过**解构赋值, **可以将属性/值从对象/数组中取出,赋值给其他变量。</p><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> o </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">42</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">q</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> q</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> o</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> foo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">one</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">two</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">three</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">one</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> two</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> three</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> foo</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="weakset-weakmap" tabindex="-1">WeakSet/WeakMap <a class="header-anchor" href="#weakset-weakmap" aria-hidden="true">#</a></h3><ul><li>WeakSet的成员要求是对象，WeakMap的键要求是对象。</li><li>WeakSet 中的对象都是<strong>弱引用</strong>，如果WeakSet中的某个对象不可达（引用置为null）了，WeakSet中的该对象会被回收掉。</li><li>WeakMap 实例仅有has()、set()、get()、delete()操作方法，没有size属性以及keys()、values()、entries()方法，所以不能获取其所有键值，也就不能迭代。</li><li>WeakSet/WeakMap 没有部署 Iterator接口，所以不能用f or...of 遍历。因为size取决于垃圾回收机制。</li><li>场景 <ul><li>WeakSet：保存dom节点</li><li>WeakMap： 给dom添加处理函数</li></ul></li></ul><h3 id="模块化对比" tabindex="-1">模块化对比 <a class="header-anchor" href="#模块化对比" aria-hidden="true">#</a></h3><ul><li>CJS 模块是运行时加载，ES6 模块是编译时输出接口</li><li>CJS 模块输出的是值的拷贝，ES6 模块输出的是值的引用</li><li>CJS 模块为同步加载，ES6支持异步加载</li><li>CJS 是单个值导出，ES6 模块可以导出多个</li><li>CJS 模块的 this 是当前模块，ES6 模块的 this 是 undefined</li></ul><h2 id="_01-类数组" tabindex="-1">01.类数组 <a class="header-anchor" href="#_01-类数组" aria-hidden="true">#</a></h2><p>一个拥有 length 属性和若干索引属性的对象就可以被称为类数组对象，类数组对象和数组类似，但是不能调用数组的方法。</p><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> arrayLike </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">age</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sex</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">length</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>调用数组方法 Array.prototype.xxx.call(arrayLike，...)</li><li>转成数组 <ul><li>Array.from(arrayLike);</li><li>Array.prototype.slice.call(arrayLike);</li><li>Array.prototype.splice.call(arrayLike, 0);</li><li>Array.prototype.concat.apply([], arrayLike);</li></ul></li></ul><h2 id="_02-严格模式" tabindex="-1">02.严格模式 <a class="header-anchor" href="#_02-严格模式" aria-hidden="true">#</a></h2><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ul><li>全局变量必须显式声明</li><li>禁用 with</li><li>严格模式下，eval 语句本身就是一个作用域，不再能够生成全局变量了，它所生成的变量只能用于eval内部。</li><li>不能用delete</li><li>禁止 this 关键字指向全局对象</li><li>对象不能有重名的属性</li></ul><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> myIterable </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">myIterable[</span><span style="color:#FFCB6B;">Symbol</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iterator] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">yield</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">yield</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">yield</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">myIterable] </span><span style="color:#676E95;font-style:italic;">// [1, 2, 3]</span></span>
<span class="line"></span></code></pre></div><h2 id="_03-iife" tabindex="-1">03.IIFE <a class="header-anchor" href="#_03-iife" aria-hidden="true">#</a></h2><p>立即调用函数表达式</p><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>立即执行函数，第一个括号里是匿名函数，拥有独立的词法作用域，把函数声明变成表达式。 第二个括号是执行传参</p><h2 id="_04-语句和表达式" tabindex="-1">04.语句和表达式 <a class="header-anchor" href="#_04-语句和表达式" aria-hidden="true">#</a></h2><ul><li>语句：语句分为声明语句、流程控制语句和其他语句。</li><li>表达式：返回一个值，有副作用的（比如赋值）和单纯计算求值</li></ul><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// 表达式</span></span>
<span class="line"><span style="color:#A6ACCD;">myvar </span></span>
<span class="line"><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 赋值</span></span>
<span class="line"><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">+</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 求值</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 语句</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 函数表达式</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><ul><li>函数表达式，允许省略函数名</li></ul><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> sayHi </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">alert</span><span style="color:#F07178;">( </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h2 id="_05-函数式编程" tabindex="-1">05.函数式编程 <a class="header-anchor" href="#_05-函数式编程" aria-hidden="true">#</a></h2><ul><li>函数是一等公民，可以作为函数的入参和返回值</li><li>声明式编程 map/filter等</li><li>纯函数：无状态和无副作用，相同的输入永远得到相同的输出</li></ul><p>**柯里化：**将一个多参函数，转换成一个依次调用的单参函数。 柯里化函数会接收一些参数，然后不会立即求值，而是继续返回一个新函数，将传入的参数通过闭包的形式保存，等到被真正求值的时候,，再进行求值。</p><p><strong>偏函数</strong>：则是固定一个函数的一个或多个参数，也就是将一个 n 元函数转换成一个 n - x 元函数。</p><p>compose: 函数组合的目的是将多个函数组合成一个函数</p><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> compose </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">f</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> g</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">g</span><span style="color:#A6ACCD;">(x))</span></span>
<span class="line"></span></code></pre></div><h2 id="_06-哪些操作会造成内存泄漏" tabindex="-1">06.哪些操作会造成内存泄漏 <a class="header-anchor" href="#_06-哪些操作会造成内存泄漏" aria-hidden="true">#</a></h2><ul><li>全局变量，这些数据只有在窗口关闭或重新刷新页面时才会被释放</li><li>不合理使用的闭包，导致变量一直存在内存中</li><li>没有清理的 DOM 元素引用</li><li>定时器 clearTimeout</li><li>事件监听 removeEventListener</li></ul><p><strong>避免：</strong></p><ul><li>减少不必要的全局变量，使⽤严格模式避免意外创建全局变量。</li><li>在你使⽤完数据后，及时解除引⽤（闭包中的变量，dom引⽤，定时器清除）。</li></ul><h2 id="实现sizeof函数-计算传入的对象所占的bytes" tabindex="-1">实现sizeOf函数, 计算传入的对象所占的Bytes <a class="header-anchor" href="#实现sizeof函数-计算传入的对象所占的bytes" aria-hidden="true">#</a></h2><div class="language-javascript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sizeOf</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">o</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">object</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">switch</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">o</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">boolean</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">return</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">return</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">8</span></span>
<span class="line"><span style="color:#F07178;">  }</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="for循环问题" tabindex="-1">for循环问题 <a class="header-anchor" href="#for循环问题" aria-hidden="true">#</a></h2><ul><li>var for里面定义的变量渗透到了外部</li><li>let 块级作用域，每次循环重新声明一个变量</li></ul><h2 id="垃圾回收机制" tabindex="-1">垃圾回收机制 <a class="header-anchor" href="#垃圾回收机制" aria-hidden="true">#</a></h2><ul><li>堆</li><li>引用计数法/标记清除法（可达性分析）</li><li>代价假说，新生代，老年代</li><li>单线程-全停顿 v8做了一些优化，增量标记（利用浏览器空闲时间），惰性清理（写屏障），，并发并行，目的是减少堆主线程的影响</li></ul><h2 id="_1-2-3-map-parseint" tabindex="-1">[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;].map(parseInt) <a class="header-anchor" href="#_1-2-3-map-parseint" aria-hidden="true">#</a></h2><p><code>[1, NaN, NaN]</code></p><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(parseInt) </span><span style="color:#676E95;font-style:italic;">// [1, NaN, NaN]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> index</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">parseInt</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">parseInt</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 1 ，radix === 0 按 10 进制处理</span></span>
<span class="line"><span style="color:#82AAFF;">parseInt</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// NaN ，radix === 1 非法（不在 2-36 之内）</span></span>
<span class="line"><span style="color:#82AAFF;">parseInt</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// NaN ，2 进制中没有 3</span></span>
<span class="line"></span></code></pre></div><h2 id="防抖节流" tabindex="-1">防抖节流 <a class="header-anchor" href="#防抖节流" aria-hidden="true">#</a></h2><div class="language-javascript"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">throttle</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">timeout</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">last</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">now</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">now</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">now</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">last</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">last</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">now</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">debounce</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">timeout</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="遍历对比" tabindex="-1">遍历对比 <a class="header-anchor" href="#遍历对比" aria-hidden="true">#</a></h2><h2 id="sort原理" tabindex="-1">sort原理 <a class="header-anchor" href="#sort原理" aria-hidden="true">#</a></h2><ul><li>小于10 插入排序</li><li>大于10 快速排序</li></ul></div></div></main><footer class="VPDocFooter" data-v-33f3cc82 data-v-afae0642><div class="edit-info" data-v-afae0642><!----><!----></div><!----></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"d48824f5\",\"one_browser.md\":\"93436061\",\"one_css.md\":\"aca6d54d\",\"one_js.md\":\"d28000e9\",\"two_other.md\":\"97d38ada\",\"two_vue.md\":\"daa22518\",\"two_webpack.md\":\"87cfcc42\"}")</script>
    <script type="module" async src="/assets/app.8f85f826.js"></script>
    
  </body>
</html>